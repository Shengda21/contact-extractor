<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½è”ç³»äººæå–å™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
    <div class="container mx-auto px-4 py-6 max-w-4xl">
        <!-- æ ‡é¢˜ -->
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">æ™ºèƒ½è”ç³»äººæå–å™¨</h1>
            <p class="text-gray-600">å°†è‡ªæˆ‘ä»‹ç»è½¬æ¢ä¸ºæ‰‹æœºé€šè®¯å½•æ ¼å¼</p>
        </div>

        <!-- å¯¼èˆªæ ‡ç­¾ -->
        <div class="bg-white rounded-lg shadow-lg mb-6">
            <div class="flex border-b">
                <button
                    id="mainTab"
                    class="flex-1 py-3 px-6 text-center font-medium bg-blue-500 text-white border-b-2 border-blue-500"
                    onclick="showTab('main')"
                >
                    <svg class="inline mr-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ä¸»é¡µé¢
                </button>
                <button
                    id="settingsTab"
                    class="flex-1 py-3 px-6 text-center font-medium text-gray-600 hover:text-gray-800"
                    onclick="showTab('settings')"
                >
                    <svg class="inline mr-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    è®¾ç½®
                </button>
            </div>

            <!-- ä¸»é¡µé¢å†…å®¹ -->
            <div id="mainContent" class="p-6">
                <!-- æ–‡æœ¬è¾“å…¥åŒºåŸŸ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        è¾“å…¥è‡ªæˆ‘ä»‹ç»æ–‡æœ¬
                    </label>
                    <div class="relative">
                        <textarea
                            id="inputText"
                            placeholder="ä¾‹å¦‚ï¼šç‹è€å¸ˆå¥½ï¼Œæˆ‘æ˜¯xxå¤§å­¦ç†å­¦é™¢çš„å¼ ä¸‰ï¼Œæˆ‘çš„æ‰‹æœºå·æ˜¯13900000000ï¼Œé‚®ç®±æ˜¯zhangsan@example.comï¼Œæˆ‘ä¸»è¦ä»äº‹äººå·¥æ™ºèƒ½æ–¹é¢çš„ç ”ç©¶ï¼Œæˆ‘çš„å¯¼å¸ˆæ˜¯æå››ã€‚"
                            class="w-full h-32 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                        ></textarea>
                        <button
                            onclick="pasteText()"
                            class="absolute top-2 right-2 p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded"
                            title="ä»å‰ªè´´æ¿ç²˜è´´"
                        >
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- åˆ†ææŒ‰é’® -->
                <div class="mb-6">
                    <button
                        id="analyzeBtn"
                        onclick="analyzeText()"
                        class="w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white py-3 px-6 rounded-lg font-medium transition-colors"
                    >
                        ğŸ¤– æ™ºèƒ½åˆ†æ
                    </button>
                </div>

                <!-- åˆ†æç»“æœ -->
                <div id="resultSection" class="hidden bg-gray-50 rounded-lg p-6 mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">æå–ç»“æœ</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                            <span class="text-sm text-gray-600">å§“åï¼š</span>
                            <span id="resultName" class="ml-2 font-medium">æœªæ‰¾åˆ°</span>
                        </div>
                        <div class="flex items-center">
                            <svg class="w-5 h-5 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                            <span class="text-sm text-gray-600">ç”µè¯ï¼š</span>
                            <span id="resultPhone" class="ml-2 font-medium">æœªæ‰¾åˆ°</span>
                        </div>
                        <div class="flex items-center">
                            <svg class="w-5 h-5 text-red-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            <span class="text-sm text-gray-600">é‚®ç®±ï¼š</span>
                            <span id="resultEmail" class="ml-2 font-medium">æœªæ‰¾åˆ°</span>
                        </div>
                        <div class="flex items-center">
                            <svg class="w-5 h-5 text-purple-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                            </svg>
                            <span class="text-sm text-gray-600">å•ä½ï¼š</span>
                            <span id="resultOrg" class="ml-2 font-medium">æœªæ‰¾åˆ°</span>
                        </div>
                    </div>
                    <div id="resultNotesContainer" class="mt-4 hidden">
                        <span class="text-sm text-gray-600">å¤‡æ³¨ï¼š</span>
                        <p id="resultNotes" class="mt-1 text-gray-800"></p>
                    </div>
                </div>

                <!-- æ“ä½œæŒ‰é’® -->
                <div id="actionButtons" class="hidden flex gap-4">
                    <button
                        onclick="insertToContacts()"
                        class="flex-1 bg-green-500 hover:bg-green-600 text-white py-3 px-6 rounded-lg font-medium transition-colors flex items-center justify-center"
                    >
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                        </svg>
                        æ’å…¥é€šè®¯å½•
                    </button>
                    <button
                        onclick="downloadVCard()"
                        class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 px-6 rounded-lg font-medium transition-colors flex items-center justify-center"
                    >
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        ä¸‹è½½vCard
                    </button>
                </div>
            </div>

            <!-- è®¾ç½®é¡µé¢å†…å®¹ -->
            <div id="settingsContent" class="p-6 hidden">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">APIè®¾ç½®</h3>
                
                <!-- APIé€‰æ‹© -->
                <div class="mb-6">
                    <label class="flex items-center mb-2">
                        <input type="radio" name="apiType" id="useClaudeAPI" checked class="mr-2">
                        <span>ä½¿ç”¨Claude API</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" name="apiType" id="useCustomAPI" class="mr-2">
                        <span>ä½¿ç”¨è‡ªå®šä¹‰APIï¼ˆOpenRouter/OpenAIå…¼å®¹ï¼‰</span>
                    </label>
                </div>

                <!-- Claude APIè®¾ç½® -->
                <div id="claudeAPISettings" class="space-y-4 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            Claude APIå¯†é’¥
                        </label>
                        <input
                            type="password"
                            id="claudeApiKey"
                            placeholder="è¾“å…¥æ‚¨çš„Claude APIå¯†é’¥"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        />
                        <p class="text-xs text-gray-500 mt-1">è¯·åœ¨ <a href="https://console.anthropic.com" target="_blank" class="text-blue-500 hover:underline">Anthropic Console</a> è·å–APIå¯†é’¥</p>
                    </div>
                </div>

                <!-- è‡ªå®šä¹‰APIè®¾ç½® -->
                <div id="customAPISettings" class="hidden space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            APIç«¯ç‚¹
                        </label>
                        <input
                            type="text"
                            id="customEndpoint"
                            placeholder="ä¾‹å¦‚ï¼šhttps://openrouter.ai/api/v1/chat/completions"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        />
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            æ¨¡å‹åç§°
                        </label>
                        <input
                            type="text"
                            id="customModel"
                            placeholder="ä¾‹å¦‚ï¼šanthropic/claude-3-sonnet"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        />
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">
                            APIå¯†é’¥
                        </label>
                        <input
                            type="password"
                            id="customApiKey"
                            placeholder="è¾“å…¥æ‚¨çš„APIå¯†é’¥"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        />
                    </div>
                </div>

                <!-- ä½¿ç”¨è¯´æ˜ -->
                <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                    <h4 class="font-medium text-blue-800 mb-2">ä½¿ç”¨è¯´æ˜</h4>
                    <ul class="text-sm text-blue-700 space-y-1">
                        <li>â€¢ ä½¿ç”¨Claude APIéœ€è¦åœ¨Anthropic Consoleç”³è¯·APIå¯†é’¥</li>
                        <li>â€¢ å¦‚éœ€ä½¿ç”¨å…¶ä»–APIï¼Œè¯·é€‰æ‹©"è‡ªå®šä¹‰API"å¹¶å¡«å†™ç›¸å…³ä¿¡æ¯</li>
                        <li>â€¢ æ”¯æŒOpenRouterã€OpenAIåŠå…¶ä»–å…¼å®¹API</li>
                        <li>â€¢ APIé…ç½®åœ¨å½“å‰ä¼šè¯ä¸­æœ‰æ•ˆï¼Œä¸ä¼šä¿å­˜åˆ°æœåŠ¡å™¨</li>
                    </ul>
                </div>

                <!-- å¼€å‘è€…ä¿¡æ¯ -->
                <div class="mt-6 pt-4 border-t border-gray-200">
                    <p class="text-xs text-gray-400 text-center">
                        å¼€å‘è€…ï¼šShengda Liu | è”ç³»é‚®ç®±ï¼š
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let extractedInfo = null;

        // æ ‡ç­¾é¡µåˆ‡æ¢
        function showTab(tab) {
            const mainContent = document.getElementById('mainContent');
            const settingsContent = document.getElementById('settingsContent');
            const mainTab = document.getElementById('mainTab');
            const settingsTab = document.getElementById('settingsTab');

            if (tab === 'main') {
                mainContent.classList.remove('hidden');
                settingsContent.classList.add('hidden');
                mainTab.className = 'flex-1 py-3 px-6 text-center font-medium bg-blue-500 text-white border-b-2 border-blue-500';
                settingsTab.className = 'flex-1 py-3 px-6 text-center font-medium text-gray-600 hover:text-gray-800';
            } else {
                mainContent.classList.add('hidden');
                settingsContent.classList.remove('hidden');
                mainTab.className = 'flex-1 py-3 px-6 text-center font-medium text-gray-600 hover:text-gray-800';
                settingsTab.className = 'flex-1 py-3 px-6 text-center font-medium bg-blue-500 text-white border-b-2 border-blue-500';
            }
        }

        // ç²˜è´´åŠŸèƒ½
        async function pasteText() {
            try {
                const text = await navigator.clipboard.readText();
                document.getElementById('inputText').value = text;
            } catch (err) {
                alert('æ— æ³•è®¿é—®å‰ªè´´æ¿ï¼Œè¯·æ‰‹åŠ¨ç²˜è´´å†…å®¹');
            }
        }

        // åˆ†ææ–‡æœ¬
        async function analyzeText() {
            const inputText = document.getElementById('inputText').value.trim();
            if (!inputText) {
                alert('è¯·å…ˆè¾“å…¥æ–‡æœ¬å†…å®¹');
                return;
            }

            const analyzeBtn = document.getElementById('analyzeBtn');
            analyzeBtn.disabled = true;
            analyzeBtn.textContent = 'åˆ†æä¸­...';

            try {
                const useClaudeAPI = document.getElementById('useClaudeAPI').checked;
                let response;

                const prompt = `è¯·åˆ†æä»¥ä¸‹è‡ªæˆ‘ä»‹ç»æ–‡æœ¬ï¼Œæå–è”ç³»äººä¿¡æ¯ã€‚æ³¨æ„ï¼šè¯·å‡†ç¡®è¯†åˆ«çœŸå®å§“åï¼Œä¸è¦æŠŠç§°å‘¼ï¼ˆå¦‚"ç‹è€å¸ˆ"ã€"æ‚¨å¥½"ç­‰ï¼‰è¯¯è®¤ä¸ºå§“åã€‚

æ–‡æœ¬å†…å®¹ï¼š
"${inputText}"

è¯·ä»¥JSONæ ¼å¼è¿”å›æå–çš„ä¿¡æ¯ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
{
  "name": "çœŸå®å§“åï¼ˆå¦‚å¼ ä¸‰ï¼Œä¸æ˜¯ç‹è€å¸ˆç­‰ç§°å‘¼ï¼‰",
  "phone": "ç”µè¯å·ç ",
  "email": "ç”µå­é‚®ç®±",
  "organization": "å•ä½/å…¬å¸/å­¦æ ¡",
  "notes": "å…¶ä»–ä¿¡æ¯ï¼ˆå¦‚ç ”ç©¶æ–¹å‘ã€èŒä½ã€å¯¼å¸ˆç­‰ï¼‰"
}

å¦‚æœæŸä¸ªå­—æ®µæ²¡æœ‰æ‰¾åˆ°ï¼Œè¯·è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²ã€‚ç¡®ä¿è¿”å›çš„æ˜¯æœ‰æ•ˆçš„JSONæ ¼å¼ã€‚`;

                if (useClaudeAPI) {
                    const claudeApiKey = document.getElementById('claudeApiKey').value;
                    if (!claudeApiKey) {
                        throw new Error('è¯·å¡«å†™Claude APIå¯†é’¥');
                    }

                    const apiResponse = await fetch('https://api.anthropic.com/v1/messages', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'x-api-key': claudeApiKey,
                            'anthropic-version': '2023-06-01'
                        },
                        body: JSON.stringify({
                            model: 'claude-3-sonnet-20240229',
                            max_tokens: 1000,
                            messages: [{
                                role: 'user',
                                content: prompt
                            }]
                        })
                    });

                    if (!apiResponse.ok) {
                        throw new Error(`Claude APIè¯·æ±‚å¤±è´¥: ${apiResponse.status} ${apiResponse.statusText}`);
                    }

                    const data = await apiResponse.json();
                    response = data.content[0].text;
                } else {
                    const endpoint = document.getElementById('customEndpoint').value;
                    const model = document.getElementById('customModel').value;
                    const apiKey = document.getElementById('customApiKey').value;

                    if (!endpoint || !model || !apiKey) {
                        throw new Error('è¯·å®Œæ•´å¡«å†™è‡ªå®šä¹‰APIé…ç½®');
                    }

                    const apiResponse = await fetch(endpoint, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: model,
                            messages: [{
                                role: 'user',
                                content: prompt
                            }],
                            temperature: 0.1
                        })
                    });

                    if (!apiResponse.ok) {
                        throw new Error(`APIè¯·æ±‚å¤±è´¥: ${apiResponse.status} ${apiResponse.statusText}`);
                    }

                    const data = await apiResponse.json();
                    response = data.choices[0].message.content;
                }

                // è§£æJSONå“åº”
                const jsonMatch = response.match(/\{[\s\S]*\}/);
                if (jsonMatch) {
                    extractedInfo = JSON.parse(jsonMatch[0]);
                    displayResults(extractedInfo);
                } else {
                    throw new Error('æ— æ³•è§£æLLMå“åº”');
                }
            } catch (error) {
                console.error('åˆ†æå¤±è´¥:', error);
                alert('åˆ†æå¤±è´¥ï¼š' + error.message);
            } finally {
                analyzeBtn.disabled = false;
                analyzeBtn.textContent = 'ğŸ¤– æ™ºèƒ½åˆ†æ';
            }
        }

        // æ˜¾ç¤ºç»“æœ
        function displayResults(info) {
            document.getElementById('resultName').textContent = info.name || 'æœªæ‰¾åˆ°';
            document.getElementById('resultPhone').textContent = info.phone || 'æœªæ‰¾åˆ°';
            document.getElementById('resultEmail').textContent = info.email || 'æœªæ‰¾åˆ°';
            document.getElementById('resultOrg').textContent = info.organization || 'æœªæ‰¾åˆ°';

            const notesContainer = document.getElementById('resultNotesContainer');
            const notes = document.getElementById('resultNotes');
            if (info.notes) {
                notes.textContent = info.notes;
                notesContainer.classList.remove('hidden');
            } else {
                notesContainer.classList.add('hidden');
            }

            document.getElementById('resultSection').classList.remove('hidden');
            document.getElementById('actionButtons').classList.remove('hidden');
        }

        // ç”ŸæˆvCard
        function generateVCard(info) {
            const vcard = [
                'BEGIN:VCARD',
                'VERSION:3.0',
                `FN:${info.name}`,
                `N:${info.name};;;;`,
                info.phone ? `TEL:${info.phone}` : '',
                info.email ? `EMAIL:${info.email}` : '',
                info.organization ? `ORG:${info.organization}` : '',
                info.notes ? `NOTE:${info.notes}` : '',
                'END:VCARD'
            ].filter(line => line).join('\n');
            
            return vcard;
        }

        // ä¸‹è½½vCardæ–‡ä»¶
        function downloadVCard() {
            if (!extractedInfo) return;
            
            const vcard = generateVCard(extractedInfo);
            const blob = new Blob([vcard], { type: 'text/vcard' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${extractedInfo.name || 'contact'}.vcf`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // æ’å…¥é€šè®¯å½•
        function insertToContacts() {
            const userAgent = navigator.userAgent;
            const isIOS = /iPad|iPhone|iPod/.test(userAgent);
            const isAndroid = /Android/.test(userAgent);
            
            downloadVCard();
            
            if (isIOS) {
                alert('å·²ä¸ºiOSè®¾å¤‡ç”Ÿæˆè”ç³»äººæ–‡ä»¶ï¼Œè¯·åœ¨ä¸‹è½½å®Œæˆåæ‰“å¼€.vcfæ–‡ä»¶å¯¼å…¥åˆ°é€šè®¯å½•');
            } else if (isAndroid) {
                alert('å·²ä¸ºAndroidè®¾å¤‡ç”Ÿæˆè”ç³»äººæ–‡ä»¶ï¼Œè¯·åœ¨ä¸‹è½½å®Œæˆåæ‰“å¼€.vcfæ–‡ä»¶å¯¼å…¥åˆ°é€šè®¯å½•');
            } else {
                alert('æ£€æµ‹åˆ°æ¡Œé¢è®¾å¤‡ï¼Œå·²ä¸‹è½½vCardæ–‡ä»¶ï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨å¯¼å…¥åˆ°é€šè®¯å½•ä¸­');
            }
        }

        // APIç±»å‹åˆ‡æ¢
        document.getElementById('useClaudeAPI').addEventListener('change', function() {
            if (this.checked) {
                document.getElementById('claudeAPISettings').classList.remove('hidden');
                document.getElementById('customAPISettings').classList.add('hidden');
            }
        });

        document.getElementById('useCustomAPI').addEventListener('change', function() {
            if (this.checked) {
                document.getElementById('claudeAPISettings').classList.add('hidden');
                document.getElementById('customAPISettings').classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
